{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/admin/ProductsAdmin.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?6218","webpack:///./src/views/admin/ProductsAdmin.vue?27c4"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","description","EmptyStringDescriptionStore","SymbolWrapper","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","call","desc","slice","replace","class","width","role","type","openModal","products","item","index","key","id","title","category","origin_price","price","changeStatus","is_enabled","checked","for","deleteProduct","paginationData","getProductsData","getProductsLoading","ref","tabindex","value","selected","disabled","postProduct","modal","clearForm","errors","closeModal","name","placeholder","rules","tempData","as","isUploadImg","getFile","imgFiles","uploadImg","changeIsUploadImg","isUrl","imageUrl","priceRule","unit","imagesUrl","imagesFieldName","isImagesUrl","deleteImage","addImages","isEnabled","src","alt","data-bs-dismiss","data","productModal","editId","methods","show","hide","clearData","url","test","e","files","formData","FormData","append","$http","post","then","res","success","catch","err","console","dir","push","pop","$emit","put","mounted","$refs","backdrop","keyboard","render","components","deleteModal","pagination","page","document","documentElement","scrollTop","log","status","tempEnabled","forEach","product","deleteStatus"],"mappings":"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","file":"js/chunk-6c593870.aa5fbe2b.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","<template>\n  <div class=\"py-4\">\n    <h2 class=\"text-center\">商品管理</h2>\n    <div class=\"d-flex justify-content-end\">\n    <button type=\"button\" class=\"btn btn-primary mb-3\"\n    @click=\"openModal('addProduct')\">建立新商品</button>\n    </div>\n    <table class=\"table table-hover\">\n      <thead>\n        <tr>\n          <th width=\"25%\">商品名稱</th>\n          <th width=\"15%\">商品分類</th>\n          <th width=\"15%\">原價</th>\n          <th width=\"15%\">售價</th>\n          <th width=\"15%\">是否啟用</th>\n          <th width=\"15%\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"align-middle\" v-for=\"(item, index) in products\" :key=\"item.id\">\n          <td>{{item.title}}</td>\n          <td>{{item.category}}</td>\n          <td>{{item.origin_price}}</td>\n          <td>{{item.price}}</td>\n          <td>\n            <input type=\"checkbox\" class=\"checkbox\" :id=\"item.id\"\n            @change=\"changeStatus(item.is_enabled, index)\" :checked=\"item.is_enabled===1\">\n            <label :for=\"item.id\" class=\"btnWrap\">\n              <span class=\"btnInside\"></span>\n            </label>\n            <span class=\"isEnabled\">{{item.is_enabled === 1 ? '啟用' : '不啟用'}}</span>\n          </td>\n          <td>\n            <button type=\"button\" class=\"btn btn-primary me-2\"\n            @click=\"openModal('editProduct', index)\">編輯</button>\n              <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"deleteProduct(item)\">\n              刪除</button></td>\n        </tr>\n      </tbody>\n    </table>\n    <pagination :paginationData=\"paginationData\" @getData=\"getProductsData\"></pagination>\n  </div>\n  <div class=\"loading\" v-if=\"getProductsLoading\">\n    <div class=\"loadIcon spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">Loading...</span>\n    </div>\n  </div>\n  <productModal ref=\"productModal\" @getProducts=\"getProductsData\"></productModal>\n  <deleteModal ref=\"deleteModal\" @getProducts=\"getProductsData\"></deleteModal>\n</template>\n\n<script>\nimport swal from 'sweetalert';\nimport productModal from '@/components/ProductModal.vue';\nimport deleteModal from '@/components/DeleteModal.vue';\nimport pagination from '@/components/Pagination.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      tempData: {},\n      getProductsLoading: true,\n      paginationData: '',\n    };\n  },\n  components: {\n    productModal,\n    deleteModal,\n    pagination,\n  },\n  methods: {\n    getProductsData(page = 1) {\n      document.documentElement.scrollTop = 0;\n      this.getProductsLoading = true;\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            console.log(res.data);\n            this.products = res.data.products;\n            this.paginationData = res.data.pagination;\n            this.getProductsLoading = false;\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    changeStatus(status, index) {\n      this.getProductsLoading = true;\n      let tempEnabled = 0;\n      if (status === 1) {\n        tempEnabled = 0;\n      } else {\n        tempEnabled = 1;\n      }\n      this.tempData = this.products[index];\n      this.tempData.is_enabled = tempEnabled;\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempData.id}`;\n      this.$http.put(url, { data: this.tempData })\n        .then((res) => {\n          if (res.data.success) {\n            swal(`將狀態更新為${tempEnabled === 1 ? '啟用' : '不啟用'}！`);\n            this.getProductsData();\n          } else {\n            swal('更新產品狀態失敗！');\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    openModal(modal, index) {\n      if (modal === 'editProduct') {\n        this.$refs.productModal.tempData.title = this.products[index].title;\n        this.$refs.productModal.tempData.category = this.products[index].category;\n        this.$refs.productModal.tempData.imageUrl = this.products[index].imageUrl;\n        this.$refs.productModal.tempData.description = this.products[index].description;\n        this.$refs.productModal.tempData.origin_price = this.products[index].origin_price;\n        this.$refs.productModal.tempData.price = this.products[index].price;\n        this.$refs.productModal.tempData.unit = this.products[index].unit;\n        this.$refs.productModal.tempData.is_enabled = this.products[index].is_enabled;\n        this.$refs.productModal.editId = this.products[index].id;\n        if (this.products[index].imagesUrl !== undefined) {\n          this.products[index].imagesUrl.forEach((item, key) => {\n            this.$refs.productModal.tempData.imagesUrl.push(item);\n            this.$refs.productModal.imagesFieldName.push(`副圖${key + 1}網址`);\n          });\n        }\n      }\n      this.$refs.productModal.modal = modal;\n      this.$refs.productModal.openModal();\n    },\n    deleteProduct(product) {\n      this.$refs.deleteModal.openModal();\n      this.$refs.deleteModal.deleteStatus = 'deleteProduct';\n      this.$refs.deleteModal.deleteProduct = { ...product };\n    },\n  },\n  mounted() {\n    this.getProductsData();\n  },\n};\n</script>\n","<template>\n  <div ref=\"modal\" class=\"modal fade\" tabindex=\"-1\">\n    <div class=\"modal-dialog productModal\">\n      <div class=\"modal-content\">\n        <Form v-slot={errors} @submit=\"postProduct(modal)\" :key=\"clearForm\">\n          <div class=\"modal-header bg-dark text-white\">\n            <h5 class=\"modal-title\" v-if=\"modal === 'addProduct'\">商品建立</h5>\n            <h5 class=\"modal-title\" v-else>商品編輯</h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"closeModal\"></button>\n          </div>\n          <div class=\"modal-body row\">\n            <div class=\"col-6\">\n                <div class=\"formGroup mb-3\">\n                  <label for=\"title\" class=\"form-label\">商品名稱</label>\n                  <Field type=\"text\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['商品名稱']}\" id=\"title\"\n                  name=\"商品名稱\" placeholder=\"請輸入商品名稱\"\n                  rules=\"required\" v-model=\"tempData.title\"></Field>\n                  <ErrorMessage name=\"商品名稱\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"formGroup mb-3\">\n                  <label for=\"category\" class=\"form-label\">商品分類</label>\n                  <Field id=\"category\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['商品分類']}\"\n                  name=\"商品分類\" rules=\"required\" as=\"select\"\n                  v-model=\"tempData.category\">\n                    <option value=\"\" selected disabled>請選擇分類</option>\n                    <option value=\"蛋糕\">蛋糕</option>\n                    <option value=\"餅乾\">餅乾</option>\n                    <option value=\"泡芙\">泡芙</option>\n                    <option value=\"其他\">其他</option>\n                  </Field>\n                  <ErrorMessage name=\"商品分類\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"formGroup mb-3\">\n                  <label for=\"imageUrl\" class=\"form-label\">商品主圖</label>\n                  <button type=\"button\"\n                  class=\"btn btn-primary isUploadImageBtn\"\n                  @click=\"changeIsUploadImg\"\n                  v-if=\"!isUploadImg\">上傳圖片\n                  </button>\n                  <div class=\"d-flex justify-content-between\" v-else>\n                    <Field type=\"file\" name=\"file\" class=\"upImage\"\n                    id=\"upImage\" @change=\"getFile\"></Field>\n                    <div class=\"btnArea\">\n                      <button type=\"button\" class=\"btn btn-primary btn-sm mb-1 me-2\"\n                      :disabled=\"!imgFiles\" @click=\"uploadImg\">上傳圖片</button>\n                      <button type=\"button\" class=\"btn btn-secondary btn-sm mb-1\"\n                      @click=\"changeIsUploadImg\">取消</button>\n                    </div>\n                  </div>\n                  <Field type=\"url\" id=\"imageUrl\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['圖片網址']}\" name=\"圖片網址\"\n                  placeholder=\"請輸入圖片網址或上傳圖片\" :rules=\"isUrl\"\n                  :disabled=\"isUploadImg\" v-model=\"tempData.imageUrl\"></Field>\n                  <ErrorMessage name=\"圖片網址\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"formGroup mb-3\">\n                  <label for=\"description\" class=\"form-label\">商品描述</label>\n                  <Field type=\"text\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['商品描述']}\" id=\"description\" name=\"商品描述\"\n                  placeholder=\"請輸入商品描述\" as=\"textarea\" rules=\"required\"\n                  v-model=\"tempData.description\"></Field>\n                  <ErrorMessage name=\"商品描述\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"priceArea mb-3\">\n                  <div class=\"formGroup\">\n                    <label for=\"origin_price\" class=\"form-label\">原價</label>\n                    <Field type=\"number\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['原價']}\"\n                  id=\"origin_price\" name=\"原價\" placeholder=\"請輸入原價\" min=\"0\"\n                  rules=\"required|min_value:0\" v-model.number=\"tempData.origin_price\"></Field>\n                  <ErrorMessage name=\"原價\" class=\"invalid-feedback\"></ErrorMessage>\n                  </div>\n                  <div class=\"formGroup\">\n                    <label for=\"price\" class=\"form-label\">售價</label>\n                    <Field type=\"number\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['售價']}\" id=\"price\" name=\"售價\"\n                  placeholder=\"請輸入售價\" :rules=\"priceRule\" min=\"0\"\n                  v-model.number=\"tempData.price\"></Field>\n                  <ErrorMessage name=\"售價\" class=\"invalid-feedback\"></ErrorMessage>\n                  </div>\n                  <div class=\"formGroup\">\n                    <label for=\"unit\" class=\"form-label\">單位</label>\n                    <Field type=\"text\" class=\"form-control\"\n                  :class=\"{'is-invalid': errors['單位']}\" id=\"unit\"\n                  name=\"單位\" placeholder=\"請輸入單位(如：個)\" rules=\"required\"\n                  v-model=\"tempData.unit\"></Field>\n                  <ErrorMessage name=\"單位\" class=\"invalid-feedback\"></ErrorMessage>\n                  </div>\n                </div>\n                <div class=\"formGroup mb-3\" v-if=\"tempData.imagesUrl.length !== 0\">\n                  <label class=\"form-label\">副圖網址</label>\n                  <div class=\"d-flex justify-content-between flex-wrap mb-3\"\n                  v-for=\"(item, index) in tempData.imagesUrl\" :key=\"index\">\n                    <Field type=\"url\" class=\"form-control imagesUrlArea\"\n                    :class=\"{'is-invalid': errors[imagesFieldName[index]]}\"\n                    :name=\"imagesFieldName[index]\" :placeholder=\"imagesFieldName[index]\"\n                    :rules=\"isImagesUrl\" v-model=\"tempData.imagesUrl[index]\"></Field>\n                    <button type=\"button\" class=\"btn btn-danger\"\n                    @click=\"deleteImage(index)\">刪除</button>\n                    <ErrorMessage :name=\"imagesFieldName[index]\"\n                    class=\"invalid-feedback\"></ErrorMessage>\n                  </div>\n                </div>\n                <div class=\"formGroup mb-3\">\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"addImages\"\n                  :disabled=\"tempData.imagesUrl[tempData.imagesUrl.length-1] === ''\">增加副圖</button>\n                </div>\n                <div class=\"formGroup mb-3\" v-if=\"modal === 'addProduct'\">\n                  <input type=\"checkbox\" id=\"is_enabled\" name=\"is_enabled\"\n                  @change=\"isEnabled\">\n                  <label for=\"is_enabled\">是否啟用</label>\n                </div>\n            </div>\n            <div class=\"col-6\">\n              <div class=\"px-2\">\n                <h2 class=\"text-center\">主圖預覽</h2>\n                <div class=\"previewPicture\">\n                  <img class=\"w-100\" :src=\"tempData.imageUrl\" alt=\"圖片預覽\">\n                </div>\n                <h2 class=\"text-center\">副圖預覽</h2>\n                <div class=\"previewPicture row\">\n                  <img class=\"col-4\" :src=\"item\" alt=\"圖片預覽\"\n                  v-for=\"item in tempData.imagesUrl\" :key=\"item\">\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\" @click=\"closeModal\">取消</button>\n            <button type=\"submit\" class=\"btn btn-primary\"\n            v-if=\"modal === 'addProduct'\">建立</button>\n            <button type=\"submit\" class=\"btn btn-primary\" v-else>編輯</button>\n          </div>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Modal } from 'bootstrap';\nimport swal from 'sweetalert';\n\nexport default {\n  data() {\n    return {\n      productModal: {},\n      modal: '',\n      tempData: {\n        title: '',\n        category: '',\n        imageUrl: '',\n        description: '',\n        origin_price: '',\n        price: '',\n        unit: '',\n        is_enabled: 0,\n        imagesUrl: [],\n      },\n      isUploadImg: false,\n      imgFiles: '',\n      clearForm: false,\n      editId: '',\n      imagesFieldName: [],\n    };\n  },\n  methods: {\n    openModal() {\n      this.productModal.show();\n      this.clearForm = false;\n    },\n    closeModal() {\n      this.productModal.hide();\n      this.clearForm = true;\n      this.clearData();\n    },\n    clearData() {\n      this.tempData.title = '';\n      this.tempData.category = '';\n      this.tempData.imageUrl = '';\n      this.tempData.description = '';\n      this.tempData.origin_price = '';\n      this.tempData.price = '';\n      this.tempData.unit = '';\n      this.tempData.imagesUrl = [];\n      this.tempData.is_enabled = 0;\n      this.editId = '';\n      this.imagesFieldName = [];\n    },\n    isUrl(value) {\n      const url = /^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n      if (!this.tempData.imageUrl) {\n        return '圖片網址 為必填欄位';\n      }\n      if (!url.test(value)) {\n        return '圖片網址 格式不正確';\n      }\n      return true;\n    },\n    isImagesUrl(value) {\n      const url = /^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n      if (value === '') {\n        return '副圖網址沒有內容，如不輸入網址，請先刪除欄位！';\n      }\n      if (!url.test(value)) {\n        return '副圖網址 格式不正確';\n      }\n      return true;\n    },\n    priceRule(value) {\n      if (!value) {\n        return '售價 為必填欄位';\n      }\n      if (value > this.tempData.origin_price) {\n        return '售價 必須小於或等於原價';\n      }\n      return true;\n    },\n    changeIsUploadImg() {\n      this.imgFiles = '';\n      this.isUploadImg = !this.isUploadImg;\n    },\n    getFile(e) {\n      this.imgFiles = e.target.files;\n    },\n    uploadImg() {\n      const formData = new FormData();\n      formData.append('file-to-upload', this.imgFiles[0]);\n      const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(url, formData)\n        .then((res) => {\n          if (res.data.success) {\n            this.tempData.imageUrl = res.data.imageUrl;\n            this.changeIsUploadImg();\n            swal('圖片上傳成功！');\n          } else {\n            swal('圖片上傳失敗！');\n          }\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    isEnabled() {\n      if (this.tempData.is_enabled === 0) {\n        this.tempData.is_enabled = 1;\n      } else {\n        this.tempData.is_enabled = 0;\n      }\n    },\n    addImages() {\n      this.tempData.imagesUrl.push('');\n      this.imagesFieldName.push(`副圖${this.tempData.imagesUrl.length}網址`);\n    },\n    deleteImage(index) {\n      this.tempData.imagesUrl.splice(index, 1);\n      this.imagesFieldName.pop();\n    },\n    postProduct(modal) {\n      if (modal === 'addProduct') {\n        const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product`;\n        this.$http.post(url, { data: this.tempData })\n          .then((res) => {\n            if (res.data.success) {\n              swal('商品建立成功！');\n              this.closeModal();\n              this.$emit('getProducts');\n            } else {\n              swal('商品建立失敗！');\n            }\n          })\n          .catch((err) => {\n            console.dir(err);\n          });\n      } else {\n        const url = `${process.env.VUE_APP_URL}api/${process.env.VUE_APP_PATH}/admin/product/${this.editId}`;\n        this.$http.put(url, { data: this.tempData })\n          .then((res) => {\n            if (res.data.success) {\n              swal('商品修改成功！');\n              this.closeModal();\n              this.$emit('getProducts');\n            } else {\n              swal('商品修改失敗！');\n            }\n          })\n          .catch((err) => {\n            console.dir(err);\n          });\n      }\n    },\n  },\n  mounted() {\n    this.productModal = new Modal(this.$refs.modal, { backdrop: 'static', keyboard: false });\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=15463fe5\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./ProductsAdmin.vue?vue&type=template&id=1ce0ada0\"\nimport script from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}